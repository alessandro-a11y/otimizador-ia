services:
  - type: web
    name: otimizador-ia
    env: python
    plan: free
    # Comandos corrigidos para incluir migrações e coleta de estáticos
    buildCommand: "pip install -r requirements.txt && python manage.py collectstatic --noinput && python manage.py migrate"
    
    # Comandos corrigidos para apontar para o WSGI do projeto principal (otimizadordecurriculo)
    # Assumindo que a estrutura do seu projeto Django é:
    # otimizadordecurriculo/wsgi.py
    startCommand: "gunicorn otimizadordecurriculo.wsgi"
    
    envVars:
      - key: PYTHON_VERSION
        value: 3.12